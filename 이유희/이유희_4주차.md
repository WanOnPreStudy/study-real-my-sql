# InnoDB 스토리지 엔진 잠금
- MySQL에서 제공하는 잠금과는 별개로 스토리지 엔진 내부에서 레코드 기반의 잠금 방식을 탑재하고 있다.
- 뛰어난 동시성 처리를 제공
- 잠금 대기 중인 트랜잭션 목록 조회
  : information_schema 데이터베이스에 존재하는 INNODB_TRX, INNODB_LOCKS, INNODB_LOCKS_WAITS 이라는 테이블을 조인해서 조회

## InnoDB 스토리지 엔진의 잠금
- 레코드 기반의 잠금 제공
- 갭 락 제공

### 레코드 락
- 레코드 자체만을 잠그는 것.
- 인덱스의 레코드를 잠근다.  
  -> 인덱스가 없는 테이블일 경우?
  내부적으로 자동 생성된 클러스터 인덱스를 이용해 잠금을 설정한다.
- 보조 인덱스를 이용한 변경 작업은 넥스트 키 락 또는 갭 락을 사용하지만 프라이머리 키 또는 유니크 인덱스에 의한 변경 작업에서는 갭에 대해서는 잠그지 않고 레코드 자체에 대해서만 락을 건다.

### 갭 락
- 레코드와 바로 인접한 레코드 사이의 간격만을 잠그는 것.
- 레코드와 레코드 사이의 간격에 새로운 레코드가 생성되는 것을 제어하는 것.
- 갭 락은 넥스트 키 락의 일부로 자주 사용된다.